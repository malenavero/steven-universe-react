{"ast":null,"code":"import _regeneratorRuntime from\"/home/male/Documents/repos/steven-universe-react/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/male/Documents/repos/steven-universe-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/male/Documents/repos/steven-universe-react/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Nav from\"./../../components/Nav\";import styles from\"./Songs.module.css\";import{useState,useEffect}from'react';import logo from\"./../../img/logo.png\";import CardItem from\"./../../components/CardItem\";import Button from\"./../../components/Button\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Characters(){var dataKeys=[\"composers\",\"vocalilist\",\"lyrics\"];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(10),_useState4=_slicedToArray(_useState3,2),limit=_useState4[0],setLimit=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),totalItems=_useState6[0],setTotalItems=_useState6[1];useEffect(function(){fetchData();},[limit]);function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var getData,dataToJson,data,items;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://raw.githubusercontent.com/UncleJerry23/steven-universe-graphql-api/master/lib/utils/songsSeeds/songsFixed.json\");case 2:getData=_context.sent;_context.next=5;return getData.json();case 5:dataToJson=_context.sent;data=dataToJson.slice(0,limit);items=dataToJson.length;setData(data);setTotalItems(items);case 10:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}function loadMore(){setLimit(function(prev){return prev+10;});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsxs(\"main\",{className:styles.main,children:[/*#__PURE__*/_jsx(\"img\",{className:styles.logo,src:logo,alt:\"logo steven universe\"}),/*#__PURE__*/_jsx(\"div\",{className:styles.cardContainer,children:data&&data.map(function(item,index){if(item.name){return/*#__PURE__*/_jsx(CardItem,{dataKeys:dataKeys,data:item},index);}else{return/*#__PURE__*/_jsx(_Fragment,{});}})}),limit<totalItems&&/*#__PURE__*/_jsx(Button,{text:\"load more...\",onClick:loadMore})]})]});}export default Characters;","map":{"version":3,"sources":["/home/male/Documents/repos/steven-universe-react/src/pages/Songs/index.js"],"names":["Nav","styles","useState","useEffect","logo","CardItem","Button","Characters","dataKeys","data","setData","limit","setLimit","totalItems","setTotalItems","fetchData","fetch","getData","json","dataToJson","slice","items","length","loadMore","prev","main","cardContainer","map","item","index","name"],"mappings":"sYAAA,MAAOA,CAAAA,GAAP,KAAgB,wBAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,oBAAnB,CACA,OAAQC,QAAR,CAAkBC,SAAlB,KAAkC,OAAlC,CAEA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CAEA,MAAOC,CAAAA,QAAP,KAAqB,6BAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,2BAAnB,C,6IAEA,QAASC,CAAAA,UAAT,EAAqB,CACnB,GAAMC,CAAAA,QAAQ,CAAG,CAAC,WAAD,CAAc,YAAd,CAA4B,QAA5B,CAAjB,CACA,cAAwBN,QAAQ,CAAC,KAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eACA,eAAyBR,QAAQ,CAAC,EAAD,CAAjC,yCAAOS,KAAP,eAAcC,QAAd,eACA,eAAoCV,QAAQ,CAAC,KAAD,CAA5C,yCAAOW,UAAP,eAAmBC,aAAnB,eAEAX,SAAS,CAAC,UAAI,CACVY,SAAS,GACZ,CAFQ,CAEP,CAACJ,KAAD,CAFO,CAAT,CANmB,QAUJI,CAAAA,SAVI,qIAUnB,2LACwBC,CAAAA,KAAK,CAAC,wHAAD,CAD7B,QACQC,OADR,qCAE2BA,CAAAA,OAAO,CAACC,IAAR,EAF3B,QAEQC,UAFR,eAGQV,IAHR,CAGeU,UAAU,CAACC,KAAX,CAAiB,CAAjB,CAAoBT,KAApB,CAHf,CAIQU,KAJR,CAIgBF,UAAU,CAACG,MAJ3B,CAKEZ,OAAO,CAACD,IAAD,CAAP,CACAK,aAAa,CAACO,KAAD,CAAb,CANF,uDAVmB,4CAmBnB,QAASE,CAAAA,QAAT,EAAmB,CACjBX,QAAQ,CAAC,SAAAY,IAAI,QAAIA,CAAAA,IAAI,CAAG,EAAX,EAAL,CAAR,CACD,CAED,mBACE,wCACE,KAAC,GAAD,IADF,cAEI,cAAM,SAAS,CAAIvB,MAAM,CAACwB,IAA1B,wBACE,YAAK,SAAS,CAAIxB,MAAM,CAACG,IAAzB,CAA+B,GAAG,CAAEA,IAApC,CAA0C,GAAG,CAAC,sBAA9C,EADF,cAEE,YAAK,SAAS,CAAEH,MAAM,CAACyB,aAAvB,UACOjB,IAAD,EACEA,IAAI,CAACkB,GAAL,CAAS,SAACC,IAAD,CAAOC,KAAP,CAAe,CACpB,GAAID,IAAI,CAACE,IAAT,CAAc,CACZ,mBAAO,KAAC,QAAD,EAAsB,QAAQ,CAAEtB,QAAhC,CAA0C,IAAI,CAAEoB,IAAhD,EAAeC,KAAf,CAAP,CACD,CAFD,IAEO,CACL,mBAAO,kBAAP,CACD,CACF,CANH,CAFR,EAFF,CAgBIlB,KAAK,CAAGE,UAAR,eAAuB,KAAC,MAAD,EAAQ,IAAI,CAAC,cAAb,CAA4B,OAAO,CAAEU,QAArC,EAhB3B,GAFJ,GADF,CAwBD,CAED,cAAehB,CAAAA,UAAf","sourcesContent":["import Nav from \"./../../components/Nav\";\nimport styles from \"./Songs.module.css\";\nimport {useState, useEffect} from 'react';\n\nimport logo from \"./../../img/logo.png\";\n\nimport CardItem from \"./../../components/CardItem\";\nimport Button from \"./../../components/Button\";\n\nfunction Characters(){\n  const dataKeys = [\"composers\", \"vocalilist\", \"lyrics\"];\n  const [data, setData] = useState(false); \n  const [limit, setLimit] =useState(10);\n  const [totalItems, setTotalItems] = useState(false);\n\n  useEffect(()=>{\n      fetchData();  \n  },[limit])\n\n  async function fetchData(){\n    const getData = await fetch(\"https://raw.githubusercontent.com/UncleJerry23/steven-universe-graphql-api/master/lib/utils/songsSeeds/songsFixed.json\");\n    const dataToJson = await getData.json();\n    const data = dataToJson.slice(0, limit);\n    const items = dataToJson.length;\n    setData(data);   \n    setTotalItems(items);            \n  }   \n\n  function loadMore(){\n    setLimit(prev => prev + 10);       \n  }\n\n  return (\n    <>\n      <Nav /> \n        <main className = {styles.main}>               \n          <img className = {styles.logo} src={logo} alt='logo steven universe'/>\n          <div className={styles.cardContainer}>\n              { (data) && (\n                  data.map((item, index)=>{\n                      if (item.name){\n                        return <CardItem key={index} dataKeys={dataKeys} data={item}/>\n                      } else {\n                        return <></>\n                      }        \n                    }\n                  ) \n                )\n              }                \n          </div>\n          {\n            limit < totalItems &&  <Button text=\"load more...\" onClick={loadMore} />\n          }            \n        </main>      \n    </>\n  )\n}\n\nexport default Characters;"]},"metadata":{},"sourceType":"module"}